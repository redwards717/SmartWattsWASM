@page "/profile";

@inject AppState _appState; 
@inject IStravaService _stravaService;

<h4>@_appState.LoggedInUser.Email</h4>

@if (_appState.LoggedInUser.StravaId > 0)
{
    <p>Linked to Strava ID: @_appState.LoggedInUser.StravaId</p>
}
else
{
    <button class="btn btn-strava" @onclick="LinkToStrava">Link to Stava</button>
}

@code {

    private async Task LinkToStrava() 
    {
        _stravaService.LinkToStrava();
    }

}

<style>
    .btn-strava {
        color: white;
        background-color: #fc5200;
    }
</style>
